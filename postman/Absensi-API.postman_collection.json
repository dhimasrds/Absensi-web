{
  "info": {
    "_postman_id": "absensi-api-collection-2026-v2",
    "name": "Absensi API Collection",
    "description": "API Collection untuk Employee Attendance System\n\n## Authentication Flow\n\n### Admin Web (Email/Password)\n1. Admin Login ‚Üí Get access_token & refresh_token\n2. Use access_token di Header Authorization\n3. Refresh token saat expired\n\n### Mobile App (Face Recognition)\n1. Face Login ‚Üí Get access_token & refresh_token\n2. Use access_token untuk Check-in/Check-out\n3. Refresh token saat expired\n\n## Base URLs\n- Local: http://localhost:3000\n- Production: https://absensi-web-rouge.vercel.app",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "{{BASE_URL}}"
    }
  ],
  "item": [
    {
      "name": "üîê Admin Auth",
      "description": "Authentication endpoints untuk Admin Web (Email/Password)",
      "item": [
        {
          "name": "Admin Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.environment.set('ADMIN_TOKEN', jsonData.data.accessToken);",
                  "        pm.environment.set('ADMIN_REFRESH_TOKEN', jsonData.data.refreshToken);",
                  "        pm.environment.set('ADMIN_USER_ID', jsonData.data.user.id);",
                  "        console.log('‚úÖ Admin tokens saved to environment');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{ADMIN_EMAIL}}\",\n  \"password\": \"{{ADMIN_PASSWORD}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/auth/login",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login admin dengan email dan password.\n\n**Response:**\n- accessToken (Supabase JWT)\n- refreshToken\n- user info"
          },
          "response": []
        },
        {
          "name": "Admin Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.environment.set('ADMIN_TOKEN', jsonData.data.accessToken);",
                  "        pm.environment.set('ADMIN_REFRESH_TOKEN', jsonData.data.refreshToken);",
                  "        console.log('‚úÖ Admin tokens refreshed');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{ADMIN_REFRESH_TOKEN}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/auth/refresh",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "auth", "refresh"]
            },
            "description": "Refresh admin access token"
          },
          "response": []
        },
        {
          "name": "Admin Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/auth/logout",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "auth", "logout"]
            },
            "description": "Logout admin dan invalidate token"
          },
          "response": []
        },
        {
          "name": "Get Current Admin",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/auth/me",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "auth", "me"]
            },
            "description": "Get current authenticated admin user info"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üì± Mobile Auth",
      "description": "Authentication endpoints untuk Mobile App (Face Recognition)",
      "item": [
        {
          "name": "Face Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.environment.set('ACCESS_TOKEN', jsonData.data.accessToken);",
                  "        pm.environment.set('REFRESH_TOKEN', jsonData.data.refreshToken);",
                  "        pm.environment.set('EMPLOYEE_ID', jsonData.data.employee.id);",
                  "        pm.environment.set('EMPLOYEE_CODE', jsonData.data.employee.employeeId);",
                  "        console.log('‚úÖ Mobile tokens saved to environment');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Device-Id",
                "value": "{{DEVICE_ID}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"embedding\": {{FACE_EMBEDDING}},\n  \"deviceId\": \"{{DEVICE_ID}}\",\n  \"deviceInfo\": {\n    \"model\": \"iPhone 15 Pro\",\n    \"os\": \"iOS 17.2\",\n    \"appVersion\": \"1.0.0\"\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/auth/face-login",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "auth", "face-login"]
            },
            "description": "Login dengan face embedding.\n\n**Request Body:**\n- embedding: Array 128 float values dari face recognition\n- deviceId: Unique device identifier\n- deviceInfo: Device metadata (model, os, appVersion)\n\n**Response:**\n- accessToken (JWT valid 1 jam)\n- refreshToken (valid 30 hari)\n- employee info"
          },
          "response": []
        },
        {
          "name": "Mobile Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.environment.set('ACCESS_TOKEN', jsonData.data.accessToken);",
                  "        pm.environment.set('REFRESH_TOKEN', jsonData.data.refreshToken);",
                  "        console.log('‚úÖ Mobile tokens refreshed');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{REFRESH_TOKEN}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/auth/refresh",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "auth", "refresh"]
            },
            "description": "Refresh mobile access token"
          },
          "response": []
        },
        {
          "name": "Mobile Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/auth/logout",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "auth", "logout"]
            },
            "description": "Logout dari mobile app"
          },
          "response": []
        },
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/me",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "me"]
            },
            "description": "Get current employee profile with attendance status.\n\n**Response includes:**\n- Employee info (name, email, department, etc.)\n- Work location assignment (if any)\n- Device info\n- Session info\n- **Attendance status** (NEW):\n  - `alreadyCheckedIn`: Boolean - true if checked in today and not checked out\n  - `lastCheckIn`: Last check-in timestamp today (null if none)\n  - `lastCheckOut`: Last check-out timestamp today (null if none)\n\n**Use `alreadyCheckedIn` to determine UI:**\n- `true`: Show **CHECK OUT** button (user is currently checked in)\n- `false`: Show **CHECK IN** button (user hasn't checked in or already checked out)\n\n**Auto-reset:** Status automatically resets at 00:00 local time each day.\n\n**Example Response:**\n```json\n{\n  \"data\": {\n    \"employee\": { ... },\n    \"device\": { ... },\n    \"session\": { ... },\n    \"attendance\": {\n      \"alreadyCheckedIn\": true,\n      \"lastCheckIn\": {\n        \"timestamp\": \"2026-01-09T08:30:00Z\",\n        \"verificationStatus\": \"VERIFIED\"\n      },\n      \"lastCheckOut\": null\n    }\n  }\n}\n```"
          },
          "response": []
        }
      ]
    },
    {
      "name": "‚è∞ Mobile Attendance",
      "description": "Attendance endpoints untuk Mobile App",
      "item": [
        {
          "name": "Check In",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deviceId\": \"{{DEVICE_ID}}\",\n  \"clientCaptureId\": \"{{$guid}}\",\n  \"capturedAt\": \"{{$isoTimestamp}}\",\n  \"payload\": {\n    \"type\": \"EMBEDDING_V1\",\n    \"embedding\": [0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891]\n  },\n  \"liveness\": {\n    \"provided\": true,\n    \"score\": 0.95\n  },\n  \"verificationMethod\": \"FACE\",\n  \"note\": null,\n  \"proofImagePath\": \"{{EMPLOYEE_ID}}/2026-01-09/{{$guid}}.jpg\",\n  \"proofImageMime\": \"image/jpeg\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/attendance/check-in",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "attendance", "check-in"]
            },
            "description": "Employee check in attendance with face verification.\n\n**‚ö†Ô∏è BREAKING CHANGE (2026-01-08):**\n- Face verification sekarang WAJIB\n- Harus include `payload.embedding` (128 floats)\n- Server akan verify face matching (threshold 0.70)\n\n**Request Body:**\n- `deviceId`: Device identifier string\n- `clientCaptureId`: Unique UUID untuk idempotency (auto-generated)\n- `capturedAt`: ISO timestamp saat capture (auto-generated)\n- `payload`: Object berisi face embedding\n  - `type`: \"EMBEDDING_V1\"\n  - `embedding`: Array of 128 floats dari face detection\n- `liveness`: Object liveness detection\n  - `provided`: Boolean, apakah liveness check dilakukan\n  - `score`: Float 0-1, confidence score liveness\n- `verificationMethod`: \"FACE\" (fixed)\n- `note`: Optional catatan\n- `proofImagePath`: Path foto di S3 (dari upload-url)\n- `proofImageMime`: \"image/jpeg\"\n\n**Success Response (201):**\n```json\n{\n  \"data\": {\n    \"id\": \"uuid\",\n    \"attendanceType\": \"CHECK_IN\",\n    \"capturedAt\": \"2026-01-09T08:30:00Z\",\n    \"verificationStatus\": \"VERIFIED\",\n    \"matchScore\": 0.9542,\n    \"livenessScore\": 0.95,\n    \"hasProof\": true\n  }\n}\n```\n\n**Error Responses:**\n- `FACE_NOT_RECOGNIZED` (401): Face tidak match dengan template\n- `ALREADY_CHECKED_IN` (409): Sudah check-in hari ini\n- `CAPTURE_STALE` (400): Timestamp > 120 detik\n- `DUPLICATE_CAPTURE` (409): clientCaptureId sudah digunakan\n- `DEVICE_NOT_REGISTERED` (403): Device inactive\n\n**Validations:**\n- Face embedding harus 128 floats\n- Timestamp max skew 120 seconds\n- Cosine similarity ‚â• 0.70"
          },
          "response": []
        },
        {
          "name": "Check Out",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deviceId\": \"{{DEVICE_ID}}\",\n  \"clientCaptureId\": \"{{$guid}}\",\n  \"capturedAt\": \"{{$isoTimestamp}}\",\n  \"payload\": {\n    \"type\": \"EMBEDDING_V1\",\n    \"embedding\": [0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891, 0.345, -0.678, 0.912, -0.123, 0.456, -0.789, 0.234, -0.567, 0.891, -0.345, 0.678, -0.912, 0.123, -0.456, 0.789, -0.234, 0.567, -0.891]\n  },\n  \"liveness\": {\n    \"provided\": true,\n    \"score\": 0.95\n  },\n  \"verificationMethod\": \"FACE\",\n  \"note\": null,\n  \"proofImagePath\": \"{{EMPLOYEE_ID}}/2026-01-09/{{$guid}}.jpg\",\n  \"proofImageMime\": \"image/jpeg\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/attendance/check-out",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "attendance", "check-out"]
            },
            "description": "Employee check out attendance with face verification.\n\n**‚ö†Ô∏è BREAKING CHANGE (2026-01-08):**\n- Face verification sekarang WAJIB\n- Harus include `payload.embedding` (128 floats)\n- Server akan verify face matching (threshold 0.70)\n\n**Request Body:**\n- `deviceId`: Device identifier string\n- `clientCaptureId`: Unique UUID untuk idempotency (auto-generated)\n- `capturedAt`: ISO timestamp saat capture (auto-generated)\n- `payload`: Object berisi face embedding\n  - `type`: \"EMBEDDING_V1\"\n  - `embedding`: Array of 128 floats dari face detection\n- `liveness`: Object liveness detection\n  - `provided`: Boolean, apakah liveness check dilakukan\n  - `score`: Float 0-1, confidence score liveness\n- `verificationMethod`: \"FACE\" (fixed)\n- `note`: Optional catatan\n- `proofImagePath`: Path foto di S3 (dari upload-url)\n- `proofImageMime`: \"image/jpeg\"\n\n**Success Response (201):**\n```json\n{\n  \"data\": {\n    \"id\": \"uuid\",\n    \"attendanceType\": \"CHECK_OUT\",\n    \"capturedAt\": \"2026-01-09T17:30:00Z\",\n    \"verificationStatus\": \"VERIFIED\",\n    \"matchScore\": 0.9542,\n    \"livenessScore\": 0.95,\n    \"hasProof\": true\n  }\n}\n```\n\n**Error Responses:**\n- `FACE_NOT_RECOGNIZED` (401): Face tidak match dengan template\n- `NOT_CHECKED_IN` (409): Belum check-in hari ini\n- `CAPTURE_STALE` (400): Timestamp > 120 detik\n- `DUPLICATE_CAPTURE` (409): clientCaptureId sudah digunakan\n- `DEVICE_NOT_REGISTERED` (403): Device inactive\n\n**Validations:**\n- Face embedding harus 128 floats\n- Timestamp max skew 120 seconds\n- Cosine similarity ‚â• 0.70\n- Harus sudah check-in"
          },
          "response": []
        },
        {
          "name": "Get Attendance History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/attendance/history?page=1&limit=10&startDate=2026-01-01&endDate=2026-01-31",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "attendance", "history"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "startDate",
                  "value": "2026-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2026-01-31"
                }
              ]
            },
            "description": "Get attendance history for current employee.\n\n**Query Parameters:**\n- page: Page number (default 1)\n- limit: Items per page (default 10)\n- startDate: Filter start date (YYYY-MM-DD)\n- endDate: Filter end date (YYYY-MM-DD)"
          },
          "response": []
        },
        {
          "name": "Get Upload URL",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ACCESS_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fileName\": \"checkin_selfie.jpg\",\n  \"contentType\": \"image/jpeg\",\n  \"type\": \"check-in\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/mobile/upload-url",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "mobile", "upload-url"]
            },
            "description": "Get pre-signed URL for uploading attendance photo.\n\n**Request Body:**\n- fileName: Original file name\n- contentType: MIME type (image/jpeg, image/png)\n- type: 'check-in' or 'check-out'\n\n**Response:**\n- uploadUrl: Signed URL untuk upload langsung ke storage\n- filePath: Path yang akan digunakan saat check-in/check-out"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üë• Employees",
      "description": "Employee management endpoints (Admin only)",
      "item": [
        {
          "name": "List Employees",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/employees?page=1&limit=10&q=&isActive=all",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "q",
                  "value": "",
                  "description": "Search by name, employee_id, or email"
                },
                {
                  "key": "isActive",
                  "value": "all",
                  "description": "Filter: all, true, false"
                }
              ]
            },
            "description": "Get list of employees with pagination and filters.\n\n**Response includes:**\n- id, employeeCode, fullName, email, department\n- workLocationId, workLocationName\n- active status\n- hasFaceEnrolled: boolean indicating if face template exists"
          },
          "response": []
        },
        {
          "name": "Get Employee by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/employees/{{EMPLOYEE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees", "{{EMPLOYEE_ID}}"]
            },
            "description": "Get single employee by ID"
          },
          "response": []
        },
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"employeeId\": \"EMP-NEW-001\",\n  \"fullName\": \"New Employee\",\n  \"email\": \"new.employee@company.com\",\n  \"department\": \"Engineering\",\n  \"workLocationId\": \"{{WORK_LOCATION_ID}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/employees",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees"]
            },
            "description": "Create new employee.\n\n**Required Fields:**\n- employeeId: Unique employee code\n- fullName: Employee full name\n\n**Optional Fields:**\n- email, department, workLocationId, isActive"
          },
          "response": []
        },
        {
          "name": "Update Employee",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Updated Name\",\n  \"email\": \"updated@company.com\",\n  \"department\": \"HR\",\n  \"workLocationId\": \"{{WORK_LOCATION_ID}}\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/employees/{{EMPLOYEE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees", "{{EMPLOYEE_ID}}"]
            },
            "description": "Update employee by ID"
          },
          "response": []
        },
        {
          "name": "Delete Employee",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/employees/{{EMPLOYEE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees", "{{EMPLOYEE_ID}}"]
            },
            "description": "Delete employee by ID"
          },
          "response": []
        },
        {
          "name": "Enroll Face Template",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"embedding\": [0.1, 0.2, 0.3],\n  \"qualityScore\": 0.95,\n  \"metadata\": {\n    \"source\": \"web_upload\",\n    \"imageSize\": \"640x480\",\n    \"detectionConfidence\": 0.98\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BASE_URL}}/api/employees/{{EMPLOYEE_ID}}/face/enroll",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "employees", "{{EMPLOYEE_ID}}", "face", "enroll"]
            },
            "description": "Enroll face template for an employee.\n\n**Request Body:**\n- embedding: Array of 128 float values from face recognition model\n- qualityScore: Face detection confidence (0-1)\n- metadata: Optional additional info\n\n**Note:** This will replace existing face template if one exists."
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìç Work Locations",
      "description": "Work location management endpoints (Admin only)",
      "item": [
        {
          "name": "List Work Locations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/work-locations?page=1&limit=10&isActive=true",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "work-locations"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "isActive",
                  "value": "true"
                }
              ]
            },
            "description": "Get list of work locations"
          },
          "response": []
        },
        {
          "name": "Get Work Location by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/work-locations/{{WORK_LOCATION_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "work-locations", "{{WORK_LOCATION_ID}}"]
            },
            "description": "Get single work location by ID"
          },
          "response": []
        },
        {
          "name": "Create Work Location",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Head Office\",\n  \"address\": \"Jl. Sudirman No. 1, Jakarta\",\n  \"latitude\": -6.2088,\n  \"longitude\": 106.8456,\n  \"radius\": 100,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/work-locations",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "work-locations"]
            },
            "description": "Create new work location.\n\n**Required Fields:**\n- name: Location name\n- latitude: GPS latitude\n- longitude: GPS longitude\n- radius: Allowed check-in radius in meters\n\n**Optional Fields:**\n- address, isActive"
          },
          "response": []
        },
        {
          "name": "Update Work Location",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Office Name\",\n  \"address\": \"New Address\",\n  \"latitude\": -6.2100,\n  \"longitude\": 106.8500,\n  \"radius\": 150,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/work-locations/{{WORK_LOCATION_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "work-locations", "{{WORK_LOCATION_ID}}"]
            },
            "description": "Update work location by ID"
          },
          "response": []
        },
        {
          "name": "Delete Work Location",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/work-locations/{{WORK_LOCATION_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "work-locations", "{{WORK_LOCATION_ID}}"]
            },
            "description": "Delete work location by ID"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìä Attendance (Admin)",
      "description": "Attendance management endpoints for Admin",
      "item": [
        {
          "name": "List All Attendance",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/attendance?page=1&limit=15&employeeId=&startDate=2026-01-01&endDate=2026-01-31&status=",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "attendance"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "15"
                },
                {
                  "key": "employeeId",
                  "value": "",
                  "description": "Filter by employee ID"
                },
                {
                  "key": "startDate",
                  "value": "2026-01-01",
                  "description": "Filter start date (YYYY-MM-DD)"
                },
                {
                  "key": "endDate",
                  "value": "2026-01-31",
                  "description": "Filter end date (YYYY-MM-DD)"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Filter: present, late, absent"
                }
              ]
            },
            "description": "Get all attendance records with filters"
          },
          "response": []
        },
        {
          "name": "Get Attendance by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/attendance/{{ATTENDANCE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "attendance", "{{ATTENDANCE_ID}}"]
            },
            "description": "Get single attendance record by ID"
          },
          "response": []
        },
        {
          "name": "Update Attendance",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"present\",\n  \"notes\": \"Updated by admin\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/attendance/{{ATTENDANCE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "attendance", "{{ATTENDANCE_ID}}"]
            },
            "description": "Update attendance record (admin override)"
          },
          "response": []
        },
        {
          "name": "Delete Attendance",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/attendance/{{ATTENDANCE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "attendance", "{{ATTENDANCE_ID}}"]
            },
            "description": "Delete attendance record"
          },
          "response": []
        },
        {
          "name": "Get Attendance Proof URL",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/attendance/{{ATTENDANCE_ID}}/proof-url",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "attendance", "{{ATTENDANCE_ID}}", "proof-url"]
            },
            "description": "Get signed URL to view check-in/check-out photo proof"
          },
          "response": []
        }
      ]
    },
    {
      "name": "üì± Devices",
      "description": "Device management endpoints (Admin only)",
      "item": [
        {
          "name": "List Devices",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/devices?page=1&limit=10&employeeId=&isActive=all",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "devices"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "employeeId",
                  "value": ""
                },
                {
                  "key": "isActive",
                  "value": "all"
                }
              ]
            },
            "description": "Get list of registered devices"
          },
          "response": []
        },
        {
          "name": "Get Device by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/devices/{{DEVICE_UUID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "devices", "{{DEVICE_UUID}}"]
            },
            "description": "Get single device by ID"
          },
          "response": []
        },
        {
          "name": "Deactivate Device",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/api/devices/{{DEVICE_UUID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "devices", "{{DEVICE_UUID}}"]
            },
            "description": "Deactivate a device (prevents login from this device)"
          },
          "response": []
        },
        {
          "name": "Delete Device",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{ADMIN_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/api/devices/{{DEVICE_UUID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["api", "devices", "{{DEVICE_UUID}}"]
            },
            "description": "Delete device registration"
          },
          "response": []
        }
      ]
    }
  ]
}
